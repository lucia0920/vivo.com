<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>账号注册</title>
    <link rel="stylesheet" href="../sass/reg.css">
    <script src="../js/jquery.min.js"></script>
    <script src="../js/reg.js"></script>
    <script src="../js/jquery.md5.js"></script>
    <script>
        //正则
        window.onload = function() {
            var phone = $('#phone')[0];
            var submit = $('#submit')[0];
            var p_reg = $('.p_reg')[0];
            var password = $('#password')[0];
            var pass = $('.pass')[0];
            var checkbox = $('#checkbox')[0];
            var form = $('#form')[0];

            var reg1 = /^1[356789]\d{9}$/; //手机号
            var reg2 = /^.{8,16}$/; //密码

            phone.onkeyup = function() {
                if (reg1.test(this.value)) {
                    p_reg.innerHTML = null;
                    this.dataset.pass = true;
                } else {
                    p_reg.innerHTML = '请输入有效的手机号';
                }
                check();
            }
            password.onkeyup = function() {
                if (reg2.test(this.value)) {
                    pass.innerHTML = null;
                    this.dataset.pass = true;
                } else {
                    pass.innerHTML = '密码必须包含字母和数字';
                }
                check();
            }
            checkbox.onclick = function() {
                if (checked = true) {
                    checkbox.dataset.pass = true;
                }
                check()
            }

            function check() {
                var button = $('.form input[data-pass="true"]');
                // console.log(button)
                if (button.length == 3) {
                    console.log(button)
                    submit.removeAttribute('disabled');
                }
            }
        }
    </script>
</head>

<body>
    <div class="wrapper">
        <div class="img-box">
            <a href="home.html"><img src="../images/logo.1f42884.png.webp" alt=""></a>
        </div>
        <div class="title">账号注册</div>
        <form action="../lib/reg.php" method="POST" class="form">
            <div class="phone-box">
                <span class="dropbtn">+86<img src="../images/arrow-down.42027c9.png" alt="" class="arrow-down"></span>
                <input type="text" name="phone" id="phone" placeholder="请输入手机号">
            </div>
            <div class="p_reg"></div>
            <div class="pass-box">
                <input type="password" name="password" id="password" placeholder="密码">
                <img src="../images/eyes-off.7c50935.png.webp" alt="">
            </div>
            <div class="pass">
                <!-- 密码必须为8-16位字母和数字组合 -->
            </div>
            <div class="protocol-box">
                <input type="checkbox" name="checkbox" id="checkbox"> 我已阅读并接受《vivo服务协议》
            </div>
            <div class="submit">
                <input id="submit" type="submit" value="完成" disabled="disabled" />
            </div>
        </form>

    </div>
    <div class="footer">
        <div class="foot">
            <div class="service">
                <span><img src="../images/下载.png" alt=""> <span class="online-person" style="margin-right:30px;"> 在线客服</span></span>
                <span><img src="../images/下载 (1).png" alt="" class="phone"> <span data-v-0fda34ec="" class="hot-line"> 400-678-9688(24小时全国服务热线)</span></span>
            </div>
            <div class="copyright">
                COPYRIGHT ©2011-2019 广东步步高电子工业有限公司 版权所有 保留一切权利 | 隐私政策 | 法律声明 | 粤B2-20080267 | 粤ICP备05100288号
            </div>
        </div>
    </div>
</body>

</html>